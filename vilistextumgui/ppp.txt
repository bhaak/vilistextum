Linux FAQ

 

         Abraxis Networks, Inc. Frequently Asked Questions on:

                                [Image]

Following are two examples of how to setup Linux for PPP connections
with Abraxis.  One with X-Windows, the other without X-Windows.  We
would like to thank Warren Olson, Justin Fisher
([1]http://www.abraxis.com/sfisher) and Bik Dhaliwal for their
"contributions" to this page. 

                                   *
                     Linux PPP _without_ X-Windows*

_*Step 1*_
You will need a program called '*chat*' installed on your system. This
comes with most of the newer distributions. If you dont have it you can
pick it up via ftp at [2]sunsite.unc.edu.

You will also need to have ppp support compiled in your kernel. To see
if you have this type 'ppp' as root. If you get a message that says
something like 'This kernel does not support ppp' or something similar
then you will need to recompile your kernel and include ppp support. You
can get the kernel source via ftp at [3]sunsite.unc.edu/pub/Linux/kernel

_*Step 2*_
Become root. Now create a directory called /etc/ppp if its not already
there. You will need to create 3 files in this directory. These files
are called options, abraxis, and ppp.

file contents
-------------

options:

/dev/modem
38400
crtscts
noipdefault
defaultroute

*note: the /dev/modem is the link to your modem.. you can specify
exactly which port to use by changing that to /dev/cua1 or whatever port
your modem is on.

abraxis:

""atdt7708139299 CONNECT "" gin: username  word: password

*note: this looks for the string 'gin' (from the login: prompt) and then
sends 'username' then it looks for 'word' (from the password: prompt)
and sends 'password'.

ppp:

#!/bin/bash
/usr/sbin/pppd 115200 asyncmap 0 connect '/usr/sbin/chat -v -f
/etc/ppp/abraxis'

*note: this is the shell script so chmod it executable

_*Step 3*_
Create a file called /etc/resolv.conf
resolv.conf:

domain abraxis.com
nameserver 204.70.57.242
#nameserver 206.115.199.201

Step 4

Now chmod the file /etc/ppp/abraxis only readable and writeable to root
so that nobody can read your password.

Plug your modem and type /etc/ppp/ppp and you hear your modem chug away
and you should be automatically logged in to the net.

                                   *
                      Linux PPP _with_ X-Windows*

_*Getting Started*_
First of all, make sure you have all the info necessary for a normal
connection to Abraxis, such as-- at least one DNS nameserver address,
the dialup numbers to Abraxis, and of course your login information. I
personally use the the Redhat 4.2 distribution of Linux so I will
explain everything in terms of that, but it should all be pretty much
very similar.

_*PPP Setup*_
Ok. Now of course you MUST log into your system as root, so as to start
the PPP service.  Or, you can set the file mode on the PPP daemon (PPPD)
as SUID root, ie: chmod +s /usr/bin/pppd.  After this change is made
then any user (with the correct permissions) can run PPP. Anyhow,
assuming you are root and logged in to your system or have permissions,
type "startx" to start X-windows. Next, open up the control panel and
click on Network Configuration. Obviously if you dont have networking
installed on your system this wont work! Next, you should see a window
pop up that says "Network Configurator" at the top. There should be 4
buttons to click on--Names, Hosts, Interfaces, and Routing. I will go
through each one seperately and tell you what you must enter in each.

_*Names*_
Hostname: Enter your Abraxis login name here. ex:wolson

Domain: Enter "hostname.abraxis.com" ex:wolson.abraxis.com

NameServers: Enter DNS name server addresses here ex:206.155.199.201
204.70.57.201 Now we go to next section...

Hosts: if you clicked "save" on Names section,everything should be ready
here, so well skip it. Onto next section...

Interfaces: Here's where the actual process begins. click on "add" a
window should pop up that says "choose Interface Type" , click on "PPP",
then click "ok". Next another screen will pop up that says "Create PPP
Interface" Here it asks for the Abraxis dial-in number, your username,
and password. Next click on "customize" There's 3 sections here,
Hardware, Communication, and Networking.

Hardware: make sure "hardware flow control and modem lines" is clicked
and also "abort connection on well known errors" just to be sure. Don't
click on "escape control characters" . Also, your line speed and modem
port should already be setup, if not you'll have to set up your modem in
the "modem" section of the control panel (email me for questions).

Communication: You should already see this on the screen. Expect, Send ,
Login your user name >ord your password > >

Networking: all you should have to worry about here is clicking on "set
default route when making connections" any other options are up to you,
but this will get you going. Now on to routing, last section.

Routing: Nothing to do here! Thank God! Anyways, now you should have a
fully functional PPP connection set up, assuming you've saved everything
at all times.

Now to connect to Abraxis, all we have to do is, at the Interfaces
portion of the Network Configurator Main Window, click on your ppp
entry, will be something like, ppp0,ppp1,etc...Now click on "Activate"
and if all goes well it will dial-up Abraxis and take care of the rest
for you! To make sure you have a good connection, open up a shell window
and type "ifconfig". If you see Point-To-Point protocol you're good to
go! If you don't see it the first time you type "ifconfig" keep trying
it, chances are its taking a while to connect. Once you DO see "point to
point protocol" you can pretty much do anything you want--- telnet, ftp,
netscape (I have 3.01 for linux), email, or whatever clients you wish.

 References:
   1. http://www.abraxis.com/sfisher
   2. ftp://sunsite.unc.edu
   3. ftp://sunsite.unc.edu/pub/Linux/kernel

